/* ============================================
   TAILWIND CSS DIRECTIVES
   These import Tailwind's utility classes
   ============================================ */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   GLASS DESIGN SYSTEM - Subtle & Professional
   
   This design uses a "glass morphism" style with:
   - Semi-transparent backgrounds
   - Backdrop blur effects
   - Soft shadows and borders
   - Consistent spacing and colors
   ============================================ */

:root {
  /* ==========================================
     COLOR PALETTE
     All colors use HSLA format: hue, saturation, lightness, alpha (opacity)
     
     TIP: To adjust colors:
     - Hue (0-360): Changes the color (0=red, 120=green, 240=blue)
     - Saturation (0-100%): 0%=gray, 100%=vibrant
     - Lightness (0-100%): 0%=black, 50%=pure color, 100%=white
     - Alpha (0-1): 0=transparent, 1=opaque
     ========================================== */
  
  /* Background color (rarely used since we use transparency) */
  --bg: #0f1115;  /* Very dark blue-gray */
  
  /* Panel/Window background - Light glass effect */
  --panel: hsla(220, 14%, 18%, 0.50);
  /* 220 = blue hue, 14% = low saturation (grayish), 18% = dark, 50% = half transparent */
  /* TIP: Increase alpha (0.50 → 0.70) for more solid, decrease for more transparent */
  
  /* Bubble/Card background - Thicker glass for better readability */
  --bubble: hsla(220, 14%, 18%, 0.82);
  /* Same color as panel but 82% opaque for better text contrast */
  /* TIP: Keep this higher than --panel for readable text backgrounds */
  
  /* Border color - Ultra-subtle hairline */
  --stroke: hsla(0, 0%, 100%, 0.06);
  /* Pure white at 6% opacity = barely visible border */
  /* TIP: Increase to 0.10 for more visible borders, decrease to 0.03 for nearly invisible */
  
  /* Text colors */
  --text: hsla(0, 0%, 100%, 0.94);  /* Primary text - 94% white (high contrast) */
  --text-muted: hsla(0, 0%, 100%, 0.64);  /* Secondary text - 64% white (lower contrast) */
  /* TIP: Keep text high contrast (90%+) for readability */
  
  /* Accent color - Used for focus rings and highlights */
  --accent: hsl(228, 100%, 74%);  /* Soft blue - not neon */
  /* 228 = blue hue, 100% = fully saturated, 74% = light/pastel */
  /* TIP: Try different hues: 0=red, 30=orange, 120=green, 280=purple */
  
  /* ==========================================
     GLASS EFFECTS
     These control the blur and transparency
     ========================================== */
  
  /* Blur amount - Higher = more blurred background */
  --blur: 20px;
  /* TIP: 10-15px = subtle, 20-30px = strong, 40px+ = very blurry */
  
  --blur-panel: 20px;  /* Same as --blur, kept for compatibility */
  
  /* Saturation boost - Makes colors richer through glass */
  --saturation: 115%;
  /* TIP: 100% = normal, 110-120% = slightly richer, 130%+ = very vibrant */
  
  /* ==========================================
     CORNER RADIUS (ROUNDNESS)
     Three tiers for visual hierarchy
     ========================================== */
  
  --r-panel: 16px;   /* Large - Windows and main containers */
  --r-el: 12px;      /* Medium - Buttons, inputs, chat bubbles */
  --r-pill: 10px;    /* Small - Pills, tags, small elements */
  /* TIP: Increase all by 2-4px for rounder look, decrease for sharper edges */
  
  /* ==========================================
     ANIMATION SPEED
     ========================================== */
  
  --transition: 140ms ease-out;
  /* 140ms = fast but smooth, ease-out = starts fast, ends slow */
  /* TIP: 100ms = snappy, 200ms = relaxed, 300ms+ = slow/dramatic */
}

@layer base {
  html, body {
    background: transparent;
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  #root {
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  * {
    @apply border-gray-200 dark:border-gray-700;
  }
}

@layer components {
  .btn-primary {
    @apply px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 
           transition-colors disabled:opacity-50 disabled:cursor-not-allowed
           flex items-center justify-center font-medium shadow-sm;
  }
  
  .btn-secondary {
    @apply px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 
           transition-colors dark:bg-gray-700 dark:text-gray-200 
           dark:hover:bg-gray-600 flex items-center justify-center font-medium;
  }
  
  .card {
    @apply bg-white rounded-lg shadow-md p-6 dark:bg-gray-800 
           border border-gray-200 dark:border-gray-700;
  }
  
  .input {
    @apply px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 
           focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600
           dark:text-gray-100 bg-white text-gray-900 transition-colors;
  }

  .input:disabled {
    @apply opacity-50 cursor-not-allowed;
  }
}

/* Scrollbar Styles */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100 dark:bg-gray-900;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-400 dark:bg-gray-600 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-500 dark:bg-gray-500;
}

/* Custom Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideIn {
  from {
    transform: translateY(10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-fade-in {
  animation: fadeIn 0.2s ease-in-out;
}

.animate-slide-in {
  animation: slideIn 0.3s ease-out;
}

/* ============================================
   FLOATBAR GLASSMORPHISM STYLES
   ============================================ */

/* Root container - fills window with absolute positioning */
.amx-root {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: auto;
}

/* No gradient backdrop - clean black */
.amx-root.amx-card::before {
  display: none;
}

/* ============================================
   MINI PILL MODE (68x68px)
   The collapsed state - small square with logo
   
   CUSTOMIZATION TIPS:
   - Change size: Modify width/height in electron/main.cjs (line 16-17)
   - Make lighter: Increase alpha in background (0.85 → 0.95)
   - Make darker: Decrease lightness (0% → stay at 0%)
   - More rounded: Increase border-radius (18px → 24px)
   - Less rounded: Decrease border-radius (18px → 12px)
   ============================================ */
.amx-mini {
  /* Positioning - fills the entire window */
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  
  /* Layout - centers the logo */
  display: flex;
  align-items: center;      /* Vertical centering */
  justify-content: center;  /* Horizontal centering */
  
  /* Appearance */
  border-radius: 0px;  /* Rounded corners (18px = soft pill shape) */
  /* OPTIONS: 12px = slightly rounded, 24px = very rounded, 0px = sharp square */
  
  background: hsla(220, 0%, 0%, 0.85);  /* Almost black at 85% opacity */
  /* FORMAT: hsla(hue, saturation, lightness, alpha) */
  /* CURRENT: Pure black (0% lightness) with 85% opacity */
  /* TIP: For lighter pill, try: hsla(220, 10%, 20%, 0.85) */
  
  /* Glass blur effect - blurs what's behind the window */
  backdrop-filter: saturate(var(--saturation)) blur(var(--blur));
  -webkit-backdrop-filter: saturate(var(--saturation)) blur(var(--blur));
  /* This creates the "frosted glass" look by blurring the background */
  
  border: 1px solid hsl(0, 0%, 0%);  /* Black border (currently invisible on black bg) */
  /* TIP: For visible border, try: hsl(0, 0%, 20%) or hsla(0, 0%, 100%, 0.1) */
  
  /* Shadow - creates depth and makes pill "float" */
  box-shadow: 
    0 8px 24px rgba(0, 0, 0, 0.4),   /* Large soft shadow */
    0 2px 8px rgba(0, 0, 0, 0.3);    /* Small close shadow */
  /* FORMAT: x-offset y-offset blur-radius color */
  /* TIP: Increase blur-radius (24px → 40px) for softer shadow */
  
  /* Interaction */
  cursor: pointer;  /* Shows hand cursor on hover */
  transition: all var(--transition);  /* Smooth animations (140ms) */
  
  /* Spacing */
  padding: 12px;  /* Space inside the pill around content */
  margin: 0;
  
  /* Behavior */
  overflow: hidden;  /* Clips content that goes outside */
  pointer-events: all;  /* Allows clicking */
  user-select: none;  /* Prevents text selection */
  -webkit-user-select: none;  /* Safari/Chrome version */
  -webkit-app-region: drag;  /* Makes entire pill draggable (Electron feature) */
  /* This allows dragging the window by clicking anywhere on the pill */
}

.amx-mini-draggable {
  cursor: pointer !important;
  -webkit-app-region: drag !important;
}

/* ============================================
   MINI PILL LOGO
   The centered icon/logo in the pill
   
   CUSTOMIZATION:
   - Larger logo: Increase width/height (36px → 48px)
   - Smaller logo: Decrease width/height (36px → 28px)
   - Replace logo: Change src in FloatBar.jsx
   ============================================ */
.amx-mini-logo {
  width: 36px;   /* Logo width */
  height: 36px;  /* Logo height (same as width = square) */
  object-fit: contain;  /* Scales image to fit without distortion */
  user-select: none;  /* Prevents selecting the image */
  -webkit-user-drag: none;  /* Prevents dragging the image itself */
  pointer-events: auto;  /* Allows clicking the logo */
  -webkit-app-region: no-drag;  /* Logo is clickable, NOT draggable */
  /* This means clicking the logo expands the pill instead of dragging */
}

/* ============================================
   DRAG HANDLE (6-Dot Grid)
   Bottom-left corner indicator showing you can drag
   
   VISUAL: Two columns, three rows of dots
   ∙ ∙
   ∙ ∙
   ∙ ∙
   
   CUSTOMIZATION:
   - Move position: Change bottom/left values
   - Larger dots: Increase dot size (3px → 4px) and gap
   - More visible: Increase opacity (0.4 → 0.6)
   - Different color: Change rgba values in .amx-dot
   ============================================ */
.amx-drag-handle-mini {
  /* Position in bottom-left corner */
  position: absolute;
  bottom: 8px;  /* 8px from bottom edge */
  left: 8px;    /* 8px from left edge */
  
  /* Size of the entire grid */
  width: 12px;   /* 2 dots × 3px + 1 gap × 3px = 9px (with some extra space) */
  height: 18px;  /* 3 dots × 3px + 2 gaps × 3px = 15px (with some extra space) */
  
  /* Grid layout for dots */
  display: grid;
  grid-template-columns: repeat(2, 3px);  /* 2 columns, each 3px wide */
  grid-template-rows: repeat(3, 3px);     /* 3 rows, each 3px tall */
  gap: 3px;  /* Space between dots */
  /* TIP: Increase gap (3px → 4px) for more spaced out dots */
  
  /* Interaction */
  cursor: grab;  /* Shows "grab hand" cursor */
  z-index: 10;   /* Appears above other elements */
  pointer-events: none;  /* Doesn't block clicks (visual only) */
  -webkit-app-region: drag;  /* This area triggers window dragging */
  
  /* Visibility */
  opacity: 0.4;  /* 40% visible (subtle) */
  /* TIP: Increase to 0.6 or 0.8 for more visible dots */
}

/* ============================================
   INDIVIDUAL DOTS
   Each of the 6 dots in the drag handle grid
   ============================================ */
.amx-dot {
  width: 3px;   /* Dot width */
  height: 3px;  /* Dot height (same = circle) */
  background: rgba(255, 255, 255, 0.5);  /* White at 50% opacity */
  /* TIP: Try rgba(255, 165, 0, 0.6) for orange dots */
  border-radius: 50%;  /* Makes it circular (50% = perfect circle) */
}

.amx-mini-content {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  pointer-events: auto;  /* Allow clicks on content */
  cursor: pointer;  /* Show pointer cursor for clicks */
  -webkit-app-region: no-drag;  /* Content is clickable, not draggable */
}

.amx-mini-text {
  font-size: 18px;  /* Smaller for 68x68 square */
  font-weight: 700;
  background: linear-gradient(135deg, #7aa2ff 0%, #a8ffcf 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* ============================================
   HORIZONTAL BAR MODE (240x68px)
   Expanded input bar - shows when you click the mini pill
   
   CUSTOMIZATION:
   - Wider bar: Change width in electron/main.cjs (line 144)
   - Different height: Change height in electron/main.cjs
   - More opaque: Increase --panel opacity in :root
   - Different color: Change --panel hue/lightness
   ============================================ */
.amx-bar {
  /* Positioning - fills window */
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  
  /* Layout - horizontal row */
  display: flex;
  align-items: center;  /* Vertically center items */
  gap: 12px;  /* Space between input and button */
  padding: 0 12px 0 20px;  /* More left padding, less right */
  
  /* Appearance - dark solid background like reference */
  border-radius: 0px;  /* Slightly rounded corners */
  background: hsla(220, 0%, 0%, 0.85) !important;  /* Matches mini pill background */
  backdrop-filter: saturate(var(--saturation)) blur(var(--blur));  /* Blur effect */
  -webkit-backdrop-filter: saturate(var(--saturation)) blur(var(--blur));
  border: 1px solid hsla(0, 0%, 100%, 0.08) !important;  /* Subtle border */
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4),
              0 2px 8px rgba(0, 0, 0, 0.3);  /* Deeper shadow like reference */
  transition: all var(--transition);  /* Smooth animations */
}

/* ============================================
   BAR INPUT FIELD
   The text input where you type messages
   
   CUSTOMIZATION:
   - Larger text: Increase font-size (14px → 16px)
   - Different font: Add font-family
   - Text color: Change --text variable
   ============================================ */
.amx-bar-input {
  flex: 1;  /* Takes up all available space */
  background: transparent;  /* No background (shows through) */
  border: none;  /* No border */
  outline: none;  /* No outline */
  color: hsla(0, 0%, 100%, 0.85);  /* Lighter gray text like reference */
  font-size: 16px;  /* Larger text like reference */
  font-weight: 400;  /* Normal weight */
  letter-spacing: 0.01em;  /* Slight spacing between letters */
  -webkit-app-region: no-drag;  /* Input is NOT draggable */
  /* This allows typing instead of dragging when clicking the input */
}

/* Placeholder text (the "Ask MAX..." hint) */
.amx-bar-input::placeholder {
  color: hsla(0, 0%, 100%, 0.5);  /* Muted gray like reference */
  font-weight: 400;
  /* TIP: Make more visible with higher opacity */
}

/* When input is focused (clicked/active) */
.amx-bar-input:focus {
  outline: 0;  /* Remove default outline */
  box-shadow: none;  /* No focus ring like reference */
  /* This creates a 2px blue ring around the input when typing */
  /* TIP: Change ring size (2px → 3px) or color (var(--accent)) */
}

.amx-bar-minimize-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;  /* Slightly larger like reference */
  height: 36px;
  border-radius: 50%;  /* Perfect circle */
  background: hsla(0, 0%, 100%, 0.08);  /* Subtle gray background */
  border: 1px solid hsla(0, 0%, 100%, 0.12);  /* Slightly visible border */
  color: hsla(0, 0%, 100%, 0.7);  /* Light gray icon */
  cursor: pointer;
  transition: all 0.15s ease;
  flex-shrink: 0;
  -webkit-app-region: no-drag;
}

.amx-bar-minimize-btn:hover {
  background: rgba(255, 255, 255, 0.1);
  color: rgba(255, 255, 255, 0.9);
  border-color: rgba(255, 255, 255, 0.2);
}

/* Card mode (Active) - expanded 360x520 card - Full card view - larger glass container */
.amx-card {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  background: var(--panel);
  backdrop-filter: saturate(var(--saturation)) blur(var(--blur));
  -webkit-backdrop-filter: saturate(var(--saturation)) blur(var(--blur));
  border: 1px solid var(--stroke);
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.28);
  overflow: hidden;
  border-radius: var(--r-panel);
  transition: all var(--transition);
}
/* Input field styling - Single accent */
.amx-input {
  width: 100%;
  height: 44px;
  border-radius: var(--r-el);
  background: var(--bubble);
  border: 1px solid var(--stroke);
  outline: none;
  padding: 0 12px;
  color: var(--text);
  font-size: 14px;
  font-weight: 500;
  letter-spacing: 0.02em;
  line-height: 20px;
  transition: all var(--transition);
  -webkit-app-region: no-drag;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.22),
              inset 0 1px 0 rgba(255, 255, 255, 0.04);
}

.amx-input::placeholder {
  color: var(--text-muted);
}

.amx-input:focus {
  outline: 0;
  box-shadow: 0 0 0 2px var(--accent);
}

/* Panel container */
.amx-panel {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 12px;
  color: #eaeaf0;
  height: 100%;
}

/* Header with drag handle */
.amx-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-weight: 600;
  font-size: 14px;
  padding: 4px 0;
}

.amx-drag-handle {
  cursor: move;
  -webkit-app-region: drag;
  user-select: none;
}

/* ============================================
   ICON BUTTONS
   Small circular buttons with icons (camera, minimize, etc.)
   
   CUSTOMIZATION:
   - Larger buttons: Increase width/height (32px → 40px)
   - Colored background: Add background color
   - Different shape: Change border-radius (50% = circle, 8px = rounded square)
   - Icon color: Change color value
   ============================================ */
.amx-icon-btn {
  background: transparent;  /* No background (see-through) */
  border: 1px solid var(--stroke);  /* Hairline border */
  border-radius: var(--r-pill);  /* Rounded (10px) */
  /* TIP: Use 50% for perfect circles, or match other radii */
  
  width: 32px;   /* Button width */
  height: 32px;  /* Button height (same = square/circle) */
  
  /* Layout - centers the icon */
  display: flex;
  align-items: center;      /* Vertical center */
  justify-content: center;  /* Horizontal center */
  
  color: var(--text-muted);  /* Icon color (64% white = subtle) */
  /* TIP: Use var(--text) for brighter icons, or var(--accent) for colored */
  
  cursor: pointer;  /* Hand cursor on hover */
  transition: all var(--transition);  /* Smooth animations */
  -webkit-app-region: no-drag;  /* Buttons are clickable, not draggable */
  flex-shrink: 0;  /* Don't shrink when space is tight */
}

/* When button is focused (keyboard navigation) */
.amx-icon-btn:focus-visible {
  outline: 0;  /* Remove default outline */
  box-shadow: 0 0 0 2px var(--accent);  /* Add colored ring */
  /* This shows a blue ring when navigating with Tab key */
}

/* When button is clicked/pressed */
.amx-icon-btn:active {
  transform: scale(0.95);  /* Shrink to 95% size */
  /* This creates a "press down" effect when clicking */
  /* TIP: Change to 0.90 for more dramatic press effect */
}

/* Thoughts stream area */
.amx-thoughts {
  flex: 1;
  overflow-y: auto;
  font-size: 12.5px;
  opacity: 0.9;
  margin: 4px 0;
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
}

.amx-thoughts::-webkit-scrollbar {
  width: 6px;
}

.amx-thoughts::-webkit-scrollbar-track {
  background: transparent;
}

.amx-thoughts::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 3px;
}

/* Empty state */
.amx-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  opacity: 0.5;
}

.amx-empty-icon {
  font-size: 48px;
  margin-bottom: 12px;
}

.amx-empty-text {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.6);
}

/* Message bubbles */
.amx-message {
  margin-bottom: 12px;
  animation: slideIn 0.2s ease-out;
}

.amx-message-label {
  display: block;
  font-size: 11px;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.5);
  margin-bottom: 4px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.amx-thought-label {
  display: block;
  font-size: 11px;
  font-weight: 600;
  color: rgba(138, 166, 255, 0.7);
  margin-bottom: 4px;
  letter-spacing: 0.5px;
}

.amx-message-content {
  padding: 8px 12px;
  border-radius: 10px;
  line-height: 1.5;
  font-size: 13px;
}

/* ============================================
   CHAT BUBBLES - User Messages
   Messages you send to the AI
   
   CUSTOMIZATION:
   - Different color: Change --bubble variable
   - More contrast: Increase --bubble opacity
   - Larger text: Modify font-size in .amx-message-content
   ============================================ */
.amx-message-user .amx-message-content {
  background: var(--bubble);  /* Semi-transparent background (82% opacity) */
  border: 1px solid var(--stroke);  /* Hairline border */
  color: var(--text);  /* Text color (94% white) */
  border-radius: var(--r-el);  /* Rounded corners (12px) */
  box-shadow: 
    0 6px 18px rgba(0, 0, 0, 0.22),  /* Soft outer shadow */
    inset 0 1px 0 rgba(255, 255, 255, 0.04);  /* Subtle inner highlight */
  /* TIP: Increase outer shadow blur (18px → 24px) for softer look */
}

/* ============================================
   CHAT BUBBLES - AI/Agent Messages
   Responses from the AI
   
   Same styling as user messages for consistency
   ============================================ */
.amx-message-agent .amx-message-content {
  background: var(--bubble);
  border: 1px solid var(--stroke);
  color: var(--text);
  border-radius: var(--r-el);
  box-shadow: 
    0 6px 18px rgba(0, 0, 0, 0.22),
    inset 0 1px 0 rgba(255, 255, 255, 0.04);
}

/* ============================================
   THOUGHT/DEBUG MESSAGES
   System messages showing AI thinking process
   
   CUSTOMIZATION:
   - More visible: Increase opacity (0.75 → 0.9)
   - Solid border: Change 'dashed' to 'solid'
   - Different style: Remove italic
   ============================================ */
.amx-message-thought .amx-message-content {
  background: hsla(220, 14%, 18%, 0.60);  /* More transparent than regular bubbles */
  border: 1px dashed var(--stroke);  /* Dashed border (not solid) */
  color: var(--text-muted);  /* Muted text (64% white) */
  font-style: italic;  /* Italicized text */
  font-size: 12px;  /* Smaller text */
  opacity: 0.75;  /* 75% visible (subtle) */
  /* TIP: This makes system messages less prominent than chat */
}

/* Debug message */
.amx-debug-label {
  display: block;
  font-size: 11px;
  font-weight: 600;
  color: rgba(255, 200, 100, 0.7);
  margin-bottom: 4px;
  letter-spacing: 0.5px;
}

.amx-message-debug .amx-message-content {
  background: rgba(50, 50, 50, 0.3);
  border-left: 2px solid rgba(255, 200, 100, 0.4);
  color: rgba(255, 255, 255, 0.7);
  font-family: 'Monaco', 'Courier New', monospace;
  font-size: 11px;
  line-height: 1.6;
}

/* Error message */
.amx-error-label {
  display: block;
  font-size: 11px;
  font-weight: 600;
  color: rgba(255, 100, 100, 0.9);
  margin-bottom: 4px;
  letter-spacing: 0.5px;
}

.amx-message-error .amx-message-content {
  background: rgba(255, 50, 50, 0.15);
  border-left: 2px solid rgba(255, 100, 100, 0.5);
  color: rgba(255, 200, 200, 0.95);
  font-size: 12px;
}
/* Thinking indicator */
.amx-thinking-indicator {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: rgba(138, 166, 255, 0.1);
  border: 1px solid rgba(138, 166, 255, 0.2);
  border-radius: 10px;
  color: rgba(138, 166, 255, 0.9);
  font-size: 12px;
  margin-bottom: 12px;
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.6;
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-spin {
  animation: spin 1s linear infinite;
}

/* Semantic suggestions dropdown */
.amx-suggestions {
  margin: 8px 16px;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(122, 162, 255, 0.2);
  border-radius: 12px;
  padding: 8px;
  max-height: 200px;
  overflow-y: auto;
}

.amx-suggestions-label {
  font-size: 11px;
  color: rgba(122, 162, 255, 0.8);
  margin-bottom: 6px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 4px;
}

.amx-suggestion-item {
  padding: 8px 10px;
  margin: 4px 0;
  background: rgba(122, 162, 255, 0.08);
  border: 1px solid rgba(122, 162, 255, 0.15);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.amx-suggestion-item:hover {
  background: rgba(122, 162, 255, 0.15);
  border-color: rgba(122, 162, 255, 0.3);
  transform: translateX(2px);
}

.amx-suggestion-text {
  font-size: 12px;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 4px;
}

.amx-suggestion-meta {
  font-size: 10px;
  color: rgba(255, 255, 255, 0.5);
  display: flex;
  align-items: center;
  gap: 4px;
}

/* Progress bar */
.amx-progress {
  margin-top: 8px;
  position: relative;
}

.amx-progress > div {
  height: 4px;
  background: linear-gradient(90deg, #7aa2ff, #a8ffcf);
  transition: width 0.3s ease;
  border-radius: 999px;
}

/* Message compose area */
.amx-compose {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 4px;
}

.amx-send {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  background: transparent;
  border: none;
  color: rgba(255, 255, 255, 0.6);
  cursor: pointer;
  transition: all 0.15s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.amx-send:hover {
  color: rgba(255, 255, 255, 0.9);
  background: rgba(255, 255, 255, 0.06);
}

.amx-send:active {
  transform: scale(0.95);
  color: #fff;
}

/* Command preview */
.amx-cmd {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 8px;
  background: rgba(0, 0, 0, 0.25);
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  margin-top: 4px;
}

.amx-code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Courier New', monospace;
  background: rgba(0, 0, 0, 0.35);
  padding: 6px 8px;
  border-radius: 8px;
  font-size: 12px;
  color: #a8ffcf;
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.amx-actions {
  display: flex;
  gap: 6px;
  flex-shrink: 0;
}

.amx-btn {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 8px;
  padding: 6px 10px;
  color: #fff;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.15s ease;
  display: flex;
  align-items: center;
  gap: 4px;
  font-weight: 500;
}

.amx-btn:hover {
  background: rgba(255, 255, 255, 0.18);
  border-color: rgba(122, 162, 255, 0.5);
}

.amx-btn:active {
  transform: scale(0.96);
}

/* Confirmation Modal */
.amx-modal {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  animation: fadeIn 0.15s ease-out;
}

.amx-modal-content {
  background: rgba(28, 28, 32, 0.95);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 16px;
  padding: 20px;
  max-width: 320px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
  animation: slideIn 0.2s ease-out;
}

.amx-modal-title {
  font-size: 16px;
  font-weight: 600;
  color: #fff;
  margin-bottom: 12px;
}

.amx-modal-text {
  font-size: 13px;
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: 12px;
  line-height: 1.5;
}

.amx-modal-code {
  display: block;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Courier New', monospace;
  background: rgba(0, 0, 0, 0.4);
  padding: 10px;
  border-radius: 8px;
  font-size: 12px;
  color: #a8ffcf;
  margin-bottom: 16px;
  overflow-x: auto;
}

.amx-modal-actions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
}

.amx-btn-secondary {
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 8px;
  padding: 8px 16px;
  color: rgba(255, 255, 255, 0.8);
  font-size: 13px;
  cursor: pointer;
  transition: all 0.15s ease;
  font-weight: 500;
}

.amx-btn-secondary:hover {
  background: rgba(255, 255, 255, 0.12);
}

.amx-btn-primary {
  background: linear-gradient(135deg, #7aa2ff, #a8ffcf);
  border: none;
  border-radius: 8px;
  padding: 8px 16px;
  color: #fff;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.15s ease;
  font-weight: 600;
}

.amx-btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(122, 162, 255, 0.4);
}

.amx-btn-primary:active {
  transform: scale(0.96);
}

/* ========== WELCOME SCREEN ========== */
.amx-welcome {
  padding: 24px 20px 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  animation: fadeIn 0.3s ease;
  height: 100%;
  justify-content: space-between;
}

.amx-welcome-header {
  text-align: center;
  margin-bottom: 0;
}

.amx-welcome-title {
  font-size: 17px;
  font-weight: 500;
  color: #fff;
  letter-spacing: -0.01em;
  margin-bottom: 4px;
}

.amx-welcome-subtitle {
  font-size: 12px;
  color: rgba(255, 255, 255, 0.5);
  text-align: center;
  margin-bottom: 0;
  font-weight: 400;
}

.amx-welcome-steps {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 0;
}

.amx-welcome-step {
  width: 100%;
  animation: fadeIn 0.2s ease;
}

.amx-welcome-label {
  display: block;
  font-size: 13px;
  font-weight: 400;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 10px;
  letter-spacing: -0.01em;
  text-align: center;
}

.amx-welcome-input {
  width: 100%;
  padding: 11px 14px;
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 8px;
  color: #fff;
  font-size: 14px;
  transition: all 0.2s ease;
  outline: none;
  text-align: center;
}

.amx-welcome-input:focus {
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(122, 162, 255, 0.4);
  box-shadow: 0 0 0 3px rgba(122, 162, 255, 0.1);
}

.amx-welcome-input::placeholder {
  color: rgba(255, 255, 255, 0.4);
}

.amx-welcome-options {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 6px;
}

.amx-welcome-options-stacked {
  grid-template-columns: 1fr;
  gap: 6px;
}

.amx-welcome-option {
  padding: 10px 12px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 8px;
  color: rgba(255, 255, 255, 0.75);
  font-size: 12.5px;
  font-weight: 400;
  cursor: pointer;
  transition: all 0.15s ease;
  outline: none;
  text-align: center;
  letter-spacing: -0.01em;
}

.amx-welcome-option:hover {
  background: rgba(255, 255, 255, 0.06);
  border-color: rgba(255, 255, 255, 0.12);
  color: rgba(255, 255, 255, 0.9);
}

.amx-welcome-option.active {
  background: rgba(122, 162, 255, 0.12);
  border-color: rgba(122, 162, 255, 0.3);
  color: #fff;
}

.amx-welcome-option-stacked {
  text-align: center;
  padding: 11px 14px;
}

.amx-welcome-option-label {
  font-size: 12.5px;
  font-weight: 400;
  letter-spacing: -0.01em;
}

.amx-welcome-nav {
  display: flex;
  gap: 6px;
  justify-content: space-between;
  margin-top: 0;
}

.amx-welcome-btn {
  flex: 1;
  padding: 10px 16px;
  border-radius: 8px;
  font-size: 12.5px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  border: none;
  outline: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
}

.amx-welcome-btn.primary {
  background: rgba(122, 162, 255, 0.18);
  border: 1px solid rgba(122, 162, 255, 0.3);
  color: #fff;
}

.amx-welcome-btn.primary:hover:not(.disabled) {
  background: rgba(122, 162, 255, 0.25);
  border-color: rgba(122, 162, 255, 0.4);
}

.amx-welcome-btn.primary:active:not(.disabled) {
  transform: scale(0.98);
}

.amx-welcome-btn.primary.disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.amx-welcome-btn.secondary {
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.15);
  color: rgba(255, 255, 255, 0.8);
}

.amx-welcome-btn.secondary:hover {
  background: rgba(255, 255, 255, 0.12);
  transform: translateY(-1px);
}

.amx-welcome-progress {
  display: flex;
  gap: 5px;
  justify-content: center;
  margin-top: 0;
  padding-top: 4px;
}

.amx-welcome-dot {
  width: 5px;
  height: 5px;
  border-radius: 2.5px;
  background: rgba(255, 255, 255, 0.15);
  transition: all 0.2s ease;
}

.amx-welcome-dot.active {
  background: rgba(122, 162, 255, 0.6);
}

/* Accessibility: Reduced transparency mode */
@media (prefers-reduced-transparency: reduce) {
  .amx-pill,
  .amx-card {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    background: #202229;
  }
  
  .amx-root.amx-card::before {
    display: none;
  }
}
